---
title: "analysis"
output: html_document
date: "2025-11-10"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(lme4)
library(tidyverse)
```


```{r load data}
df_image <- read.csv("processed_data_image.csv")
df_image$experiment_type <- "image"

df_text <- read.csv("processed_data_text.csv")
df_text$experiment_type <- "text"

df <- bind_rows(df_image, df_text)

```

```{r might}
dat1 <- subset(df, (outcome <= 40 & utterance == "might") & event_type == "gumball")

dat1$experiment_type = factor(dat1$experiment_type)

might_firsthalf <- glmer(prob ~ scale(outcome)*experiment_type +
                           (1 + scale(outcome) || random_id) + 
                           (1 + experiment_type || color), # remove experiment type, did 
                         family = binomial,
                         data = dat1,
                         glmerControl(optimizer = "bobyqa", optCtrl = list(maxfun = 100000))) 

summary(might_firsthalf)
```

```{r might}
dat3 <- subset(df, (outcome <= 50 & utterance == "might") & event_type == "election")

dat3$experiment_type = factor(dat3$experiment_type)

contrasts(dat3$experiment_type)

might_firsthalf <- glmer(prob ~ scale(outcome)*experiment_type +
                           (1 + scale(outcome) | random_id) + # remove experiment type, did 
                           (1 + scale(outcome)*experiment_type | color),
                         family = binomial,
                         data = dat3)

summary(might_firsthalf)
```

```{r temp}


```

```{r not}
dat2 <- subset(df, (outcome <= 50 & utterance == "bare not") & event_type == "gumball")

not_firsthalf <- glmer(prob ~ scale(outcome)*experiment_type +
                           (1 + scale(outcome)*experiment_type | random_id) + 
                           (1 + scale(outcome)*experiment_type | color),
                         family = binomial,
                         data = dat2)

summary(not_firsthalf)
```
